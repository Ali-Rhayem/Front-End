<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard</title>
    <link rel="stylesheet" href="admin.css" />

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css">
    
</head>
<body>
    <header>
        <nav class="navbar">
            <div class="logo">LetsFly</div>
            <div class="nav-links">
                <a href="admin.html">Admin</a>
                <a href="#flights">Flights</a>
                <a href="../DisplayAdminHotel.html">Hotels</a>
                <a href="../DisplayAdminTaxi.html">Cars</a>
            </div>
            <div class="nav-icons">
                <a href="#login" class="icon">&#10132;</a>
                <a href="#profile" class="icon">&#128100;</a>
            </div>
        </nav>
    </header>
    
<div class="forms">
    <!-- hotels -->
    <form id="hotelForm">
        <H2>Hotels</H2>
        <input type="hidden" id="hotelId" name="hotelId" />
        <label for="hotelName">Name:</label>
        <input type="text" id="hotelName" name="hotelName" required placeholder="Write here..." />
    
        <label for="hotelCity">City:</label>
        <input type="text" id="hotelCity" name="hotelCity" required placeholder="Write here..." />
    
        <label for="hotelCountry">Country:</label>
        <input type="text" id="hotelCountry" name="hotelCountry" required placeholder="Write here..." />
    
        <label for="hotelAddress">Address:</label>
        <input type="text" id="hotelAddress" name="hotelAddress" required placeholder="Write here..." />
    
        <label for="hotelAvailableRooms">Available Rooms:</label>
        <input type="number" id="hotelAvailableRooms" name="hotelAvailableRooms" required placeholder="Write here..." />
    
        <label for="hotelPricePerNight">Price per Night:</label>
        <input type="number" id="hotelPricePerNight" name="hotelPricePerNight" required placeholder="Write here..." />
    
        <label for="hotelRate">Hotel Rate:</label>
        <input type="number" id="hotelRate" name="hotelRate" required placeholder="Write here..." />
    
        <button type="submit" id="hotelBtn">Submit</button>
    </form>
    <!-- flights -->
    <form id="TaxiForm">
        <H2>Taxis</H2>
        <label for="name">Name:</label>
        <input type="text" id="name" name="name" required placeholder="Write here..." />
  
        <label for="phone_number">Phone Number:</label>
        <input type="text" id="phone_number" name="phone_number" required placeholder="Write here..." />
  
        <label for="city">City:</label>
        <input type="text" id="city" name="city" required placeholder="Write here..." />
  
        <label for="country">Country:</label>
        <input type="text" id="country" name="country" required placeholder="Write here..." />
  
        <label for="available_cars">Available Cars:</label>
        <input type="text" id="available_cars" name="available_cars" required placeholder="Write here..." />
  
        <label for="price_per_km">Price per Km:</label>
        <input type="number" id="price_per_km" name="price_per_km" required placeholder="Write here..." />
        <label for="rate">Rate</label>
        <input type="number" id="rate" name="rate" required placeholder="Write here..." />
  
        <button type="submit" id="btn">Submit</button>
      </form>
    <!-- flights -->
    <form id="flightsForm">
        <H2>Flights</H2>
        <label for="departure_timedeparture_time">Name:</label>
        <input type="text" id="departure_time" name="departure_time" required placeholder="Write here..." />
  
        <label for="departure_airport_id">Phone Number:</label>
        <input type="text" id="departure_airport_id" name="departure_airport_id" required placeholder="Write here..." />
  
        <label for="city">City:</label>
        <input type="text" id="city" name="city" required placeholder="Write here..." />
  
        <label for="country">Country:</label>
        <input type="text" id="country" name="country" required placeholder="Write here..." />
  
        <label for="available_cars">Available Cars:</label>
        <input type="text" id="available_cars" name="available_cars" required placeholder="Write here..." />
  
        <label for="price_per_km">Price per Km:</label>
        <input type="number" id="price_per_km" name="price_per_km" required placeholder="Write here..." />
        <button type="submit" id="btn">Submit</button>
      </form>
</div>
    
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>
    <script src="../scripts/Create.js"></script>
    <!-- <script>
   const HotelDetails = async () => {
    const urlParams = new URLSearchParams(window.location.search);
    const hotelId = urlParams.get('id');
    console.log(hotelId);
    try {
        const response = await axios.get(`http://localhost/flight-full-stack/Back-End/Hotels/readOne.php?id=${hotelId}`);
        const hotel = response.data.hotels;
        console.log(hotel);
        if (hotel) {
            document.getElementById("hotelName").value = hotel.name || "";
            document.getElementById("hotelCity").value = hotel.city || "";
            document.getElementById("hotelCountry").value = hotel.country || "";
            document.getElementById("hotelAddress").value = hotel.address || "";
            document.getElementById("hotelAvailableRooms").value = hotel.available_rooms || "";
            document.getElementById("hotelPricePerNight").value = hotel.price_per_night || "";
            document.getElementById("hotelRate").value = hotel.rate || "";
        } else {
            console.error("Hotel data not found.");
            toastr.error("Hotel data not found.");
        }
    } catch (error) {
        console.error("There was an error fetching the hotel details:", error);
        toastr.error("Failed to load hotel details.");
    }
    const form = document.getElementById("hotelForm");

form.addEventListener("submit", function (event) {
    event.preventDefault();
    const formData = new FormData(form); 
    formData.append('id', `${hotelId}`);
    console.log(formData);
    axios({
        method: 'post',
        url: 'http://localhost/flight-full-stack/Back-End/Hotels/update.php',
        data: formData,
        headers: {
            'Content-Type': 'multipart/form-data'
        }
    })
    .then((response) => {
        console.log(response.data);
        form.reset();
        toastr.success('Hotel updated successfully!');
    })
    .catch((error) => {
        console.error(error);
        toastr.error('Failed to update hotel');
    });
});
};

document.addEventListener("DOMContentLoaded", HotelDetails);


    </script> -->
</body>
</html>
