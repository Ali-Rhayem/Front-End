<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>View All Bookings</title>
    <style>
        /* Basic CSS for layout */
        body {
            font-family: Arial, sans-serif;
            display: flex;
            justify-content: space-around;
            margin: 20px;
        }

        .column {
            width: 30%; /* Adjust width as needed */
            padding: 10px;
            border: 1px solid #ccc;
            margin: 0 10px;
        }

        .booking-details {
            width: 100%;
            border-collapse: collapse;
            margin-top: 10px;
        }

        .booking-details th, .booking-details td {
            border: 1px solid #ccc;
            padding: 8px;
            text-align: left;
        }

        .booking-details th {
            background-color: #f2f2f2;
        }
    </style>
</head>
<body>
    <div class="column" id="flight-column">
        <h2>Flight Booking Details</h2>
        <table class="booking-details" id="flightBookingTable">
            <thead>
                <tr>
                    <th>Field</th>
                    <th>Value</th>
                </tr>
            </thead>
            <tbody id="flightBookingDetailsBody">
                <!-- Flight booking details will be appended here -->
            </tbody>
        </table>
    </div>

    <div class="column" id="hotel-column">
        <h2>Hotel Booking Details</h2>
        <table class="booking-details" id="hotelBookingTable">
            <thead>
                <tr>
                    <th>Field</th>
                    <th>Value</th>
                </tr>
            </thead>
            <tbody id="hotelBookingDetailsBody">
                <!-- Hotel booking details will be appended here -->
            </tbody>
        </table>
    </div>

    <div class="column" id="taxi-column">
        <h2>Taxi Booking Details</h2>
        <table class="booking-details" id="taxiBookingTable">
            <thead>
                <tr>
                    <th>Field</th>
                    <th>Value</th>
                </tr>
            </thead>
            <tbody id="taxiBookingDetailsBody">
                <!-- Taxi booking details will be appended here -->
            </tbody>
        </table>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Function to fetch and display data for taxi bookings
            const fetchTaxiBookings = () => {
                const taxiBookingDetailsBody = document.getElementById('taxiBookingDetailsBody');

                fetch('http://localhost/flight-full-stack/Back-End/Taxi_Bookings/read.php')
                    .then(response => {
                        if (!response.ok) {
                            throw new Error('Network response was not ok');
                        }
                        return response.json();
                    })
                    .then(apiResponse => {
                        // Assuming apiResponse is an array of objects, each representing a booking
                        apiResponse.forEach(booking => {
                            const fields = [
                                { label: 'Taxi Booking ID', value: booking.taxi_booking_id },
                                { label: 'User ID', value: booking.user_id },
                                { label: 'Taxi ID', value: booking.taxi_id },
                                { label: 'Pickup Location', value: booking.pickup_location },
                                { label: 'Dropoff Location', value: booking.dropoff_location },
                                { label: 'Booking Date', value: booking.booking_date },
                                { label: 'Pickup Date', value: booking.pickup_date },
                                { label: 'Status', value: booking.status }
                            ];

                            fields.forEach(field => {
                                const row = document.createElement('tr');
                                const labelCell = document.createElement('td');
                                labelCell.textContent = field.label;
                                const valueCell = document.createElement('td');
                                valueCell.textContent = field.value;
                                row.appendChild(labelCell);
                                row.appendChild(valueCell);
                                taxiBookingDetailsBody.appendChild(row);
                            });
                        });
                    })
                    .catch(error => {
                        console.error('Error fetching taxi bookings:', error);
                    });
            };

            // Function to fetch and display data for flight bookings
            const fetchFlightBookings = () => {
                const flightBookingDetailsBody = document.getElementById('flightBookingDetailsBody');

                fetch('http://localhost/flight-full-stack/Back-End/Flight-Bookings/read.php')
                    .then(response => {
                        if (!response.ok) {
                            throw new Error('Network response was not ok');
                        }
                        return response.json();
                    })
                    .then(apiResponse => {
                        // Assuming apiResponse is an array of objects, each representing a booking
                        apiResponse.forEach(booking => {
                            const fields = [
                                { label: 'Booking ID', value: booking.booking_id },
                                { label: 'User ID', value: booking.user_id },
                                { label: 'Flight ID', value: booking.flight_id },
                                { label: 'Booking Date', value: booking.booking_date },
                                { label: 'Status', value: booking.status }
                            ];

                            fields.forEach(field => {
                                const row = document.createElement('tr');
                                const labelCell = document.createElement('td');
                                labelCell.textContent = field.label;
                                const valueCell = document.createElement('td');
                                valueCell.textContent = field.value;
                                row.appendChild(labelCell);
                                row.appendChild(valueCell);
                                flightBookingDetailsBody.appendChild(row);
                            });
                        });
                    })
                    .catch(error => {
                        console.error('Error fetching flight bookings:', error);
                    });
            };

            // Function to fetch and display data for hotel bookings
            const fetchHotelBookings = () => {
                const hotelBookingDetailsBody = document.getElementById('hotelBookingDetailsBody');

                fetch('http://localhost/flight-full-stack/Back-End/Hotel_Bookings/read.php')
                    .then(response => {
                        if (!response.ok) {
                            throw new Error('Network response was not ok');
                        }
                        return response.json();
                    })
                    .then(apiResponse => {
                        // Assuming apiResponse is an array of objects, each representing a booking
                        apiResponse.forEach(booking => {
                            const fields = [
                                { label: 'Hotel Booking ID', value: booking.hotel_booking_id },
                                { label: 'User ID', value: booking.user_id },
                                { label: 'Hotel ID', value: booking.hotel_id },
                                { label: 'Check-in Date', value: booking.check_in_date },
                                { label: 'Check-out Date', value: booking.check_out_date },
                                { label: 'Booking Date', value: booking.booking_date },
                                { label: 'Status', value: booking.status }
                            ];

                            fields.forEach(field => {
                                const row = document.createElement('tr');
                                const labelCell = document.createElement('td');
                                labelCell.textContent = field.label;
                                const valueCell = document.createElement('td');
                                valueCell.textContent = field.value;
                                row.appendChild(labelCell);
                                row.appendChild(valueCell);
                                hotelBookingDetailsBody.appendChild(row);
                            });
                        });
                    })
                    .catch(error => {
                        console.error('Error fetching hotel bookings:', error);
                    });
            };

            // Call the fetch functions
            fetchTaxiBookings();
            fetchFlightBookings();
            fetchHotelBookings();
        });
    </script>
</body>
</html>
